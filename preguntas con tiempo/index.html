<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>Responde Rapido</title>
</head>
<body onload="ComenzarCuentaRegresiva()">
    <h2>Responde a las preguntas lo mas rapido que puedas <span id="cuentaRegresiva"></span></h2>

    <p>1. cual es la capital de Francia</p>
    <input type="text" id="respuesta1">

    <p>2. (7 * 2) + 15</p>
    <input type="text" id="respuesta2">    

    <p>3. simbolo quimico del agua</p>
    <input type="text" id="respuesta3">
    
    <p>4. AÃ±o del descubrimiento de america</p>
    <input type="text" id="respuesta4">
    
    <p>5. Nombre de los 4 Beatles</p>
    <input type="text" id="respuesta5">
    <br></br>

    <button onclick="finalizado()">Termine</button>
    <br></br>
    <button onclick="volverAintentar()">Volver a Intentar</button>

    <audio id="audioFinal">
        <source src="audios/gameover.mp3" type="audio/mpeg">
        sonido no habilitado
    </audio>

    <script>
        let tiempooTerminado;
        let intervaloTiempo;

        function ComenzarCuentaRegresiva() {
            tiempooTerminado = setTimeout(tiempoCumplido, 30000);
            intervaloTiempo = setInterval (ticTac, 1000)

            document.getElementById("cuentaRegresiva").textContent = 30; 
        }


        function ticTac() {
            let tiempo =  document.getElementById("cuentaRegresiva").textContent;
            document.getElementById("cuentaRegresiva").textContent = tiempo - 1;
        }

        function tiempoCumplido() {
            clearInterval(intervaloTiempo);
            document.getElementById("cuentaRegresiva").textContent = 0;
            document.getElementById("audioFinal").play();
            alert("GEAME OVER: Se acabo el tiempo. Intentar de nuevo");

        }
        function finalizado() {
            clearTimeout(tiempooTerminado);
            clearTimeout(intervaloTiempo);

            let fecha = new Date();
            let respuesta1 = document.getElementById("respuesta1").value;
            let respuesta2 = document.getElementById("respuesta2").value;
            let respuesta3 = document.getElementById("respuesta3").value;
            let respuesta4 = document.getElementById("respuesta4").value;
            let respuesta5 = document.getElementById("respuesta5").value;

            let mensaje = fecha.toLocaleDateString("es-ES") + "\n" +
                                "1. " + respuesta1 + "\n" +
                                "2. " + respuesta2 + "\n" +
                                "3. " + respuesta3 + "\n" +
                                "4. " + respuesta4 + "\n" +
                                "5. " + respuesta5;

            alert(mensaje);      
        }
        function volverAintentar() {
            location.reload()
        }


    </script>

</body>
</html>